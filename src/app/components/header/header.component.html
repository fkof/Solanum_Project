<header>
  <p-toast></p-toast>

  <div class="logo">
    <h1> <img src="/PortalSolanum/SolanumIcon.png" height="50"></h1>
  </div>

  <div class="header-actions">
    <ng-container *ngIf="authService.isAuthenticated$ | async; else loginButton">
      <span class="user-name">Hola, {{ authService.user$ | async }}</span>
      <div class="user-menu-container">
        <div class="user-icon" (click)="toggleUserMenu($event)" title="Men칰 de usuario">
          游녻
        </div>
        <div class="user-dropdown" *ngIf="showUserMenu" (click)="$event.stopPropagation()">
          <div class="dropdown-header">
            <span class="dropdown-user-name">{{ authService.user$ | async }}</span>
            <small class="dropdown-user-email">{{correoUsuario}}</small>
          </div>
          <div class="dropdown-divider"></div>
          <div class="dropdown-items">

            <a class="dropdown-item" (click)="abrirRestablecerPassword()">
              <i class="pi pi-key"></i>
              <span>Restablecer Contrase침a</span>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item logout-item" (click)="onLogout()">
              <i class="pi pi-sign-out"></i>
              <span>Cerrar Sesi칩n</span>
            </a>
          </div>
        </div>
      </div>
      <!--div class="logout-icon" (click)="onLogout()" title="Cerrar sesi칩n">
        游뛁
      </div-->
    </ng-container>
    <ng-template #loginButton>

      <!--div class="login-icon" (click)="openModal()" title="Iniciar sesi칩n">
        游녻
      </div-->
    </ng-template>
  </div>
</header>
<!-- Modal de Login -->
<div class="modal" [class.active]="showModal" (click)="onModalBackdropClick($event)">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="close-modal" (click)="closeModal()">칑</button>
    <h2>Reseteo de Contrase침a</h2>

    <p-password [(ngModel)]="newPassword" [inputStyleClass]="'p-password'" promptLabel="Escribe tu Contrase침a"
      placeholder="Nueva Contrase침a" fluid weakLabel="Facil" mediumLabel="Media" strongLabel="Compleja" /><br>
    <p-password [(ngModel)]="confirmPassword" [inputStyleClass]="'p-password'" promptLabel="Escribe tu Contrase침a"
      placeholder="Nueva Contrase침a" feedback="false" fluid weakLabel="Facil" mediumLabel="Media"
      strongLabel="Compleja" />
    <p *ngIf="showError" style="color:red;">Contrase침as no coinciden</p>
    <br>

    <br>
    <p-button type="submit" label="Reset password" icon="pi pi-sign-in" (click)="resetPassword()"
      styleClass="p-button-primary login-button w-full">
    </p-button>
  </div>
</div>